name: recipe
help: Store files/templates in a recipe book to use them anytime!
version: 0.1.0

environment_variables:
- name: editor
  help: Editor to use for interactive commands
  default: vim

- name: recipe_book_dir
  help: Where to store recipes
  default: ${HOME}/recipe-book

dependencies:
- git
- fd
- gum

commands:
- name: add
  alias: a
  help: Add a new file to your recipe book

  args:
  - name: name
    required: true
    help: Name of the new recipe
    validate: recipe_missing

  flags:
  - long: --file
    short: -f
    arg: file
    help: Use the following file for this recipe
    validate: file_exists

  examples:
  - recipe add ssh-config -f ~/.ssh/config
  - recipe add work/Dockerfile.express (interactively)

- name: init
  alias: i
  help: Init your recipe book

  examples:
  - recipe init

- name: list
  alias: l
  help: List all recipes from your recipe book

  examples:
  - recipe list

- name: git
  alias: g
  help: Run git commands inside your recipe book

  catch_all:
    label: COMMAND
    help: Command to run inside the recipe book
    required: true

  examples:
  - recipe git log
  - recipe git remote add origin <repo>

- name: use
  alias: u
  help: Use a recipe from your recipe book

  args:
  - name: name
    help: Name of the recipe
    validate: recipe_exists

  flags:
  - short: -d
    long: --destination
    arg: destination
    help: Destination path for the recipe

  examples:
  - recipe use ssh-config -d ~/.ssh/config
  - recipe use work/Dockerfile.express (interactively)
